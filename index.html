<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Changa&family=Roboto+Slab:wght@500&display=swap" rel="stylesheet"> 
  <title>Cronometro Regressivo-Javascript</title>
</head>
<body>
  <div class="cabecalho">
    <a href="https://www.linkedin.com/in/mayaraaraujorocha/"><img src="/img/eudesenho.png" alt="Caricatura da Desenvolvedora"></a>
  </div>
<img src="/img/time-management-animate.svg"  alt="Homen segurando um relogio">
  <audio id="sound" src="/assents/alarme.mp3" style="display:none;"></audio>
<div class="container">
<h2>Minutos</h2>
<select id="minutos" name="minutos"></select>

<h2>Segundos</h2>
<select id="segundos" name="segundos"></select>
<br><br>
<button id="comecar">Come√ßar!</button>
<div id="display">
  <h3 class="contagem"></h3>
</div>
</div>


<script>
 var display = document.getElementById('display');

var minutos = document.getElementById('minutos');
var segundos = document.getElementById('segundos');

var comecar = document.getElementById('comecar');

var cronometroSeg;

var minutosAtual;
var segundosAtual;

var interval;

for(var i = 0; i <= 60; i++){
  minutos.innerHTML+='<option value="'+i+'">'+i+'</option>';
}
for(var i = 1; i <= 60; i++){
  segundos.innerHTML +='<option value="'+i+'">'+i+'</option>';
}
comecar.addEventListener('click', function(){
  minutosAtual = minutos.value;
  segundosAtual = segundos.value;

  display.childNodes[1].innerHTML = minutosAtual + ":" +segundosAtual;

  interval = setInterval(function(){

    segundosAtual--;
     if(segundosAtual <=0){
       if(minutosAtual > 0){
         minutosAtual--;
         segundosAtual = 59;
       }else{
         alert('Acabou!');
         document.getElementById('sound').play();
         clearInterval(interval);
       }
     }
     display.childNodes[1].innerHTML = minutosAtual + ":" +segundosAtual;
  },1000);
})
</script>




</body>
</html>